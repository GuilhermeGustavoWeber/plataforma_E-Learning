{% extends "base.html" %}

{% block title %}Aula {{ aula.nome }}{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>{{ aula.nome }}</h1>

    <div class="video-container" style="position: relative; max-width: 800px; margin: auto;">
        <video controls style="width: 100%; border-radius: 8px; background: #000;">
            <source src="" type="video/mp4"> <!-- Aqui você pode colocar a fonte do vídeo -->
            Seu navegador não suporta o elemento de vídeo.
        </video>
        <div class="no-video" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: white; font-size: 20px; background: rgba(0, 0, 0, 0.7); border-radius: 8px;">
            <p>Vídeo Fake: Aula {{ aula.id }}</p>
        </div>
    </div>

    <p class="mt-3">Exibindo conteúdo da aula fake.</p>

    {% if inscricao %}
        {% set aulas_completadas = inscricao.aulas_completadas if inscricao.aulas_completadas else [] %}
        {% set aula_completa = aula.id in aulas_completadas %}

        {% if aula_completa %}
            <p>Aula já completada.</p>
        {% else %}
            <form action="{{ url_for('completar_aula', aula_id=aula.id) }}" method="POST" style="margin-top: 20px;">
                <button type="submit" class="btn btn-success">Completar Aula</button>
            </form>
        {% endif %}
    {% else %}
        <p>Você não está inscrito neste curso.</p>
    {% endif %}

    <a href="{{ url_for('detalhes_curso', curso_id=aula.curso_id) }}" class="btn btn-secondary" style="margin-top: 10px;">Voltar para o Curso</a>
</div>
{% endblock %}
